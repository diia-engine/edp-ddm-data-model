<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<databaseChangeLog
		xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
		xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.2.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext xsd/dbchangelog-ext.xsd">

    <changeSet author="registry owner" id="create factors_fiz view">
        <ext:createSearchCondition name="factors_fiz">
            <ext:table name="factor" alias="f">
                <ext:column name="factor_id" returning="false"/>
                <ext:column name="name" returning="false"/>
            </ext:table>
            <ext:where>
                <ext:condition tableAlias="f" columnName="factor_type" operator="eq" value="'Фізичний'"/>
            </ext:where>
        </ext:createSearchCondition>
    </changeSet>

    <changeSet author="registry owner" id="create factors_labor view">
        <ext:createSearchCondition name="factors_labor">
            <ext:table name="factor" alias="f">
                <ext:column name="factor_id" returning="false"/>
                <ext:column name="name" returning="false"/>
            </ext:table>
            <ext:where>
                <ext:condition tableAlias="f" columnName="factor_type" operator="eq" value="'Трудового процесу'"/>
            </ext:where>
        </ext:createSearchCondition>
    </changeSet>

    <changeSet author="registry owner" id="create factors_chem_host_dovil view">
        <ext:createSearchCondition name="factors_chem_host_dovil">
            <ext:table name="factor" alias="f">
                <ext:column name="factor_id" returning="false"/>
                <ext:column name="name" returning="false"/>
            </ext:table>
            <ext:where>
                <ext:condition tableAlias="f" columnName="factor_type" operator="in" value="'Хімічний: ГОСТ','Хімічний: довільні'"/>
            </ext:where>
        </ext:createSearchCondition>
    </changeSet>

    <changeSet author="registry owner" id="create factors_chemhihien view">
        <ext:createSearchCondition name="factors_chemhihien">
            <ext:table name="factor" alias="f">
                <ext:column name="factor_id" returning="false"/>
                <ext:column name="name" returning="false"/>
            </ext:table>
            <ext:where>
                <ext:condition tableAlias="f" columnName="factor_type" operator="eq" value="'Хімічний: Гігієнічні регламенти'"/>
            </ext:where>
        </ext:createSearchCondition>
    </changeSet>

</databaseChangeLog>
