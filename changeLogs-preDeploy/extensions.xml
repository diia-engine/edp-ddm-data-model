<?xml version="1.0" encoding="UTF-8"?>  

<databaseChangeLog  
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"  
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"  
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.2.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">  

	<!-- <changeSet author="registry owner" id="extension citus"> -->
	  <!-- <sql dbms="postgresql" endDelimiter=";" splitStatements="true" stripComments="true"> -->
		<!-- CREATE EXTENSION citus; -->
		<!-- <comment>Extension to enable PG distributed database</comment> -->
	  <!-- </sql> -->
      <!-- <rollback> -->
        <!-- <sql splitStatements="true" stripComments="true">DROP EXTENSION citus;</sql> -->
      <!-- </rollback> -->
	<!-- </changeSet> -->

	<changeSet author="registry owner" id="extension hstore">
		<comment>Extension for P_DML procedure hstore parameter</comment>
		<sql dbms="postgresql" endDelimiter=";" splitStatements="true" stripComments="true">
			CREATE EXTENSION hstore;
		</sql>
		<rollback>
			<sql splitStatements="true" stripComments="true">
				DROP EXTENSION hstore;
			</sql>
		</rollback>
	</changeSet>

	<changeSet author="registry owner" id="extension uuid-ossp">
		<comment>Extension to generate uuid values</comment>
		<sql dbms="postgresql" endDelimiter=";" splitStatements="true" stripComments="true">
			CREATE EXTENSION "uuid-ossp";
		</sql>
		<rollback>
			<sql splitStatements="true" stripComments="true">
				DROP EXTENSION "uuid-ossp";
			</sql>
		</rollback>
	</changeSet>

	<changeSet author="registry owner" id="distribute extension uuid-ossp" labels="citus">
		<comment>Extension to generate uuid values to workers</comment>
		<sql dbms="postgresql" endDelimiter=";" splitStatements="true" stripComments="true">
			SELECT run_command_on_workers($$CREATE EXTENSION "uuid-ossp"$$);
		</sql>
		<rollback>
			<sql splitStatements="true" stripComments="true">
				SELECT run_command_on_workers($$DROP EXTENSION "uuid-ossp";$$);
			</sql>
		</rollback>
	</changeSet>

	<changeSet author="registry owner" id="extension file_fdw;server srv_file_fdw">
		<comment>Extension and server to enable external tables</comment>
		<sql dbms="postgresql" endDelimiter=";" splitStatements="true" stripComments="true">
			CREATE EXTENSION file_fdw;
			CREATE SERVER srv_file_fdw FOREIGN DATA WRAPPER file_fdw;
		</sql>
		<rollback>
			<sql splitStatements="true" stripComments="true">
				DROP SERVER srv_file_fdw;
				DROP EXTENSION file_fdw;
			</sql>
		</rollback>
	</changeSet>

</databaseChangeLog>